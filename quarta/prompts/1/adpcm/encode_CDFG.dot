digraph encode_CDFG {
    rankdir=TB;
    node [shape=box];

    // Nos principais
    start [label="Inicio", shape=ellipse];
    init [label="Inicializa ponteiros e variaveis"];
    calc_xa_xb [label="Calcula xa e xb"];
    update_tqmf [label="Atualiza buffer tqmf"];
    compute_xl_xh [label="Calcula xl = (xa+xb)>>15\nxh = (xa-xb)>>15"];
    low_band [label="Processa banda baixa:\n- szl = filtez()\n- spl = filtep()\n- el = xl - sl\n- il = quantl()"];
    high_band [label="Processa banda alta:\n- eh = xh - sh\n- ih = (eh>=0)?3:1\n- decis = (564*deth)>>12"];
    return [label="Retorna il | (ih << 6)", shape=ellipse];

    // Arestas
    start -> init;
    init -> calc_xa_xb;
    calc_xa_xb -> update_tqmf;
    update_tqmf -> compute_xl_xh;
    compute_xl_xh -> low_band;
    low_band -> high_band;
    high_band -> return;
}