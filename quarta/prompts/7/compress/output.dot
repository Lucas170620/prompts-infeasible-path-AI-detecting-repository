digraph output {
    rankdir=TB;
    node [shape=box];

    start [label="Inicio output", shape=ellipse];
    end [label="Fim output", shape=ellipse];

    node1 [label="Registradores: r_off, bits, bp"];
    node2 [label="if (code >= 0)"];
    node3 [label="Processa codigo positivo"];
    node4 [label="offset += n_bits"];
    node5 [label="if (offset == n_bits << 3)"];
    node6 [label="Escreve buffer completo"];
    node7 [label="if (free_ent > maxcode || clear_flg > 0)", color="red", fontcolor="red"];
    node8 [label="Escreve buffer, reset offset, ajusta n_bits", color="red", fontcolor="red"];
    node9 [label="Processa codigo negativo (EOF)"];

    start -> node1 -> node2;
    node2 -> node3 [label="True"];
    node2 -> node9 [label="False"];
    node3 -> node4 -> node5;
    node5 -> node6 [label="True"];
    node5 -> node7 [label="False"];
    node6 -> node7;
    node7 -> node8 [label="True", color="red", fontcolor="red"];
    node7 -> end [label="False"];
    node8 -> end [color="red", fontcolor="red"];
    node9 -> end;

    // Caminho inviavel
    node7 -> node8 [label="INVIAVEL", color="red", fontcolor="red"];
}