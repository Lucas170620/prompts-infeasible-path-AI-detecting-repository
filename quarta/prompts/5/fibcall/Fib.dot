digraph Fib {
    rankdir=TB;
    node [shape=box];

    // Nos
    start [label="Inicio fib(n)", shape=ellipse];
    decl [label="1: Declara i, Fnew, Fold, temp, ans"];
    init [label="2: Fnew = 1, Fold = 0"];
    for_init [label="3: i = 2"];
    for_cond [label="4: i <= 30 && i <= n"];
    loop_body [label="5: temp = Fnew\nFnew = Fnew + Fold\nFold = temp"];
    inc [label="6: i++"];
    assign_ans [label="7: ans = Fnew"];
    ret [label="8: return ans", shape=ellipse];

    // Arestas de controle
    start -> decl;
    decl -> init;
    init -> for_init;
    for_init -> for_cond;
    for_cond -> loop_body [label="True"];
    for_cond -> assign_ans [label="False"];
    loop_body -> inc;
    inc -> for_cond;
    assign_ans -> ret;

    // Arestas de dados (def-use)
    init -> loop_body [label="Fnew, Fold", style=dashed, color=blue];
    loop_body -> loop_body [label="Fnew, Fold, temp", style=dashed, color=blue];
    for_init -> for_cond [label="i", style=dashed, color=blue];
    inc -> for_cond [label="i", style=dashed, color=blue];
    init -> assign_ans [label="Fnew", style=dashed, color=blue];
    loop_body -> assign_ans [label="Fnew", style=dashed, color=blue];
}