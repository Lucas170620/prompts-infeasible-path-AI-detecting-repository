Okay, I need to generate a precise CDFG for the output function in Graphviz DOT format and also provide a code-to-node mapping. Let me start by understanding the given code.

The function is called 'output' and it's pretty complex. It handles writing bytes to a buffer and then flushing it when certain conditions are met.

First, I'll identify all the basic blocks in the function. Looking at the code, there are several sections: initial byte processing, checking for free_ent and maxcode, writing the buffer if needed, handling clear_flg, adjusting n_bits and maxcode, and finally dealing with EOF.

I need to map each block into nodes, showing control flow and data usage. Each node should have labels indicating definitions (def) and uses (c-use or p-use). For example, when code is written to the buffer, that's a c-use of 'buf' and 'n_bits'.

I'll also note where variables are defined, like when maxcode is assigned based on n_bits. Conditions will be edges with labels indicating their boolean expressions.

I have to make sure each node is numbered sequentially and that all control flows are represented with directed edges. The final node should be a doublecircle since it's the end of the function.

Finally, I'll create the DOT code, ensuring nodes are properly labeled and shaped, and edges show the correct conditions.