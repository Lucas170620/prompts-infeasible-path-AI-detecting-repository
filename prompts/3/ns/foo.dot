digraph foo {
    rankdir=TB;
    node [shape=box];

    // Nos do CFG com informacoes de dados (definicoes e usos)
    start [label="Inicio foo", shape=ellipse];
    end [label="Fim foo", shape=ellipse];
    block1 [label="B1: i = 0"];
    block2 [label="B2: i < 5", shape=diamond];
    block3 [label="B3: j = 0"];
    block4 [label="B4: j < 5", shape=diamond];
    block5 [label="B5: k = 0"];
    block6 [label="B6: k < 5", shape=diamond];
    block7 [label="B7: l = 0"];
    block8 [label="B8: l < 5", shape=diamond];
    block9 [label="B9: c++ (se TEST)\nif (keys[i][j][k][l] == x)", shape=diamond];
    block10 [label="B10: return answer[...] + keys[...]"];
    block11 [label="B11: l++"];
    block12 [label="B12: k++"];
    block13 [label="B13: j++"];
    block14 [label="B14: i++"];
    block15 [label="B15: return -1"];

    // Arestas de controle
    start -> block1;
    block1 -> block2;
    block2 -> block3 [label="True"];
    block2 -> block15 [label="False"];
    block3 -> block4;
    block4 -> block5 [label="True"];
    block4 -> block14 [label="False"];
    block5 -> block6;
    block6 -> block7 [label="True"];
    block6 -> block13 [label="False"];
    block7 -> block8;
    block8 -> block9 [label="True"];
    block8 -> block12 [label="False"];
    block9 -> block10 [label="True"];
    block9 -> block11 [label="False"];
    block10 -> end;
    block11 -> block8;
    block12 -> block6;
    block13 -> block4;
    block14 -> block2;
    block15 -> end;

    // Fluxo de dados (definicoes e usos)
    block1 [xlabel="def: i"];
    block2 [xlabel="p-use: i"];
    block3 [xlabel="def: j"];
    block4 [xlabel="p-use: j"];
    block5 [xlabel="def: k"];
    block6 [xlabel="p-use: k"];
    block7 [xlabel="def: l"];
    block8 [xlabel="p-use: l"];
    block9 [xlabel="c-use: keys, i, j, k, l, x\np-use: keys, i, j, k, l, x"];
    block10 [xlabel="c-use: answer, keys, i, j, k, l"];
    block11 [xlabel="def: l"];
    block12 [xlabel="def: k"];
    block13 [xlabel="def: j"];
    block14 [xlabel="def: i"];
}