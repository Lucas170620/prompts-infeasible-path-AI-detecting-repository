digraph encode {
    rankdir=TB;
    node [shape=box];

    start [label="Inicio", shape=ellipse];
    end [label="Fim", shape=ellipse];

    B1 [label="B1: Inicializa ponteiros"];
    B2 [label="B2: Calcula xa, xb (loop)"];
    B3 [label="B3: Atualiza tqmf"];
    B4 [label="B4: Calcula xl, xh"];
    B5 [label="B5: Calcula szl, spl, sl, el"];
    B6 [label="B6: Quantiza il, atualiza dlt, nbl, detl"];
    B7 [label="B7: Atualiza plt, al1, al2, rlt"];
    B8 [label="B8: Calcula szh, sph, sh, eh"];
    B9 [label="B9: if(eh >= 0)", shape=diamond];
    B10 [label="B10: ih = 3"];
    B11 [label="B11: ih = 1"];
    B12 [label="B12: if(|eh| > decis)", shape=diamond];
    B13 [label="B13: ih--"];
    B14 [label="B14: Calcula dh, nbh, deth, ph"];
    B15 [label="B15: Atualiza ah1, ah2, yh, rh"];
    B16 [label="B16: Retorna il | (ih << 6)"];

    start -> B1;
    B1 -> B2;
    B2 -> B3;
    B3 -> B4;
    B4 -> B5;
    B5 -> B6;
    B6 -> B7;
    B7 -> B8;
    B8 -> B9;
    B9 -> B10 [label="True"];
    B9 -> B11 [label="False"];
    B10 -> B12;
    B11 -> B12;
    B12 -> B13 [label="True"];
    B12 -> B14 [label="False"];
    B13 -> B14;
    B14 -> B15;
    B15 -> B16;
    B16 -> end;

    // Fluxo de dados (exemplos)
    B5 [xlabel="def: el, sl\nc-use: xl, rlt1, al1"];
    B9 [xlabel="p-use: eh"];
    B12 [xlabel="p-use: eh, decis"];
    B14 [xlabel="def: dh, nbh\nc-use: deth, ih"];
}