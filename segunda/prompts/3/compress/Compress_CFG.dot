digraph Compress_CFG {
    node [shape=box, style=rounded, fontname="Helvetica"];
    N1 [label="Inicializacao: n_bits=9, maxcode=511, free_ent=257"];
    N2 [label="Loop: while (InCnt > 0)"];
    N3 [label="c = getbyte()\nin_count++"];
    N4 [label="Computa fcode e i"];
    N5 [label="htab[i] == fcode?"];
    N6 [label="ent = codetab[i]\nContinua"];
    N7 [label="htab[i] < 0?"];
    N8 [label="Linear probing"];
    N9 [label="Encontrou entrada?"];
    N10 [label="Atualiza ent"];
    N11 [label="nomatch:\nout_count++\nent = c"];
    N12 [label="free_ent < maxmaxcode?"];
    N13 [label="Atualiza tabelas"];
    N14 [label="(in_count >= checkpoint) && block_compress?"];
    N15 [label="cl_block()" color="red" fontcolor="red"];
    N16 [label="Fim do loop"];
    N17 [label="Final: verifica bytes_out"];

    N1 -> N2;
    N2 -> N3 [label="InCnt>0"];
    N2 -> N17 [label="InCnt<=0"];
    N3 -> N4;
    N4 -> N5;
    N5 -> N6 [label="Sim"];
    N5 -> N7 [label="Nao"];
    N6 -> N2;
    N7 -> N11 [label="Sim (vazio)"];
    N7 -> N8 [label="Nao (ocupado)"];
    N8 -> N9;
    N9 -> N10 [label="Sim"];
    N9 -> N8 [label="Nao (continua probing)"];
    N10 -> N2;
    N11 -> N12;
    N12 -> N13 [label="Sim"];
    N12 -> N14 [label="Nao"];
    N13 -> N2;
    N14 -> N15 [label="Sim"];
    N14 -> N2 [label="Nao"];
    N15 -> N2 [color="red"];
    N16 -> N2;
}