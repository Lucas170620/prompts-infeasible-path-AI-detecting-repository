digraph CFG {
    node [shape=box, fontname="Helvetica"];
    edge [fontname="Helvetica"];

    // Nos
    N1 [label="1: Declaracoes e inicializacoes\n(ir = n, l = 1, jstack = 0, flag = 0)"];
    N2 [label="2: Loop infinito\nCondicao: ir - l < M"];
    N3 [label="3: Insertion Sort\n(j = l+1 to ir)\n(i = j-1 to l)\nCondicao: arr[i] <= a"];
    N4 [label="4: Condicao: jstack == 0"];
    N5 [label="5: Atualiza ir e l\n(ir = istack[jstack], l = istack[jstack-1])"];
    N6 [label="6: Particao\nCalcula k, SWAPs\nDefine i, j, a = arr[l+1]"];
    N7 [label="7: Loop interno de particao\nIncrementa i e decrementa j\nCondicoes: arr[i] < a, arr[j] > a\nBreak se j < i"];
    N8 [label="8: Atualiza arr[j] e a\njstack += 2"];
    N9 [label="9: Condicao: ir - i + 1 >= j - l"];
    N10 [label="10: Atualiza pilha e ajusta ir"];
    N11 [label="11: Atualiza pilha e ajusta l"];
    N12 [label="12: Fim"];

    // Arestas
    N1 -> N2;
    N2 -> N3 [label="true"];
    N2 -> N6 [label="false"];
    N3 -> N4;
    N4 -> N12 [label="true"];
    N4 -> N5 [label="false"];
    N5 -> N2;
    N6 -> N7;
    N7 -> N8 [label="j < i"];
    N8 -> N9;
    N9 -> N10 [label="true"];
    N9 -> N11 [label="false"];
    N10 -> N2;
    N11 -> N2;
}